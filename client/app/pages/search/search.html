<div class="search-page">
    <div class="panel org-panel hidden-xs hidden-sm o{{organization._id}}" ng-repeat="organization in vm.organizations" ng-class="{'highlight': organization.highlight}">
        <span class="glyphicon glyphicon-remove hidden-md hidden-lg pull-right close-btn" ng-click="vm.hide(organization);"></span>
        <div class="row">
            <div class="col-xs-12">
                <h3 ng-bind="organization.name" class="name" ng-click="vm.navigate(organization);"></h3>
            </div>
            <div class="col-xs-12">
                <h4 ng-bind="organization.address"></h4>
            </div>
        </div>
        <div panel-collapse>
            <hr>
            <div class="service" ng-repeat="service in organization.services">
                <div class="row">
                    <div class="col-xs-5"><span ng-bind="service.name"></span></div>
                    <div class="col-xs-3"><span ng-bind="service.price"></span> грн</div>
                    <div class="col-xs-4">
                        <button type="button" ng-click="service.booking = !service.booking;" class="btn btn-default transparent pull-right">Записаться</button>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div ng-if="service.booking" class="booking-form">
                    <create-meeting-form organization-id="organization._id" service-name="service.name" date="vm.defaultRequestDate" meeting-created="vm.meetingCreated(service);">
                        <submit-button>
                            <button class="btn btn-default transparent pull-right" type="submit">Отправить запрос</button>
                            <div class="clearfix"></div>
                        </submit-button>
                    </create-meeting-form>
                </div>
            </div>
        </div>
    </div>
</div>